name: Hygiene
on:
  pull_request:
    paths:
      - "**/*.md"
      - "docs/**"
      - "website_django/templates/**"
      - "website_django/**/*.md"
  workflow_dispatch:
jobs:
  spellcheck:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: streetsidesoftware/cspell-action@v6
        with:
          files: "**/*.md"
          config: .cspell.json
      - name: Spellcheck guidance
        if: failure()
        run: |
          {
            echo "## Spellcheck failed";
            echo "- Update spelling in touched docs/templates or add terms to .cspell.json (words list).";
            echo "- Re-run cspell locally with: npx cspell --no-progress \"**/*.md\"";
          } >> "$GITHUB_STEP_SUMMARY"
