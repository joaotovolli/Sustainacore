{% extends "base.html" %}

{% block title %}Enter Code | SustainaCore{% endblock %}

{% block content %}
<section class="section section--with-header">
    <div class="shell">
        <div class="section__header">
            <div>
                <p class="eyebrow">Check your inbox</p>
                <h1>Enter your 6-digit code</h1>
                <p class="muted">
                    We sent a code to <strong>{{ email }}</strong>.
                    <a class="text-link" href="{% url 'login' %}{% if next %}?next={{ next|urlencode }}{% endif %}">Change email</a>
                </p>
            </div>
        </div>

        {% if notice %}
        <div class="alert alert--success">{{ notice }}</div>
        {% endif %}
        {% if error %}
        <div class="alert alert--warning">{{ error }}</div>
        {% endif %}

        <div class="card auth-card">
            <form method="post" class="auth-form">
                {% csrf_token %}
                <label>
                    Verification code
                    <input type="text" name="code" inputmode="numeric" pattern="[0-9]{6}" maxlength="6" placeholder="123456" required />
                </label>
                {% if next %}
                    <input type="hidden" name="next" value="{{ next }}" />
                {% endif %}
                <div class="form__actions">
                    <button class="btn btn--primary" type="submit">Verify &amp; sign in</button>
                </div>
            </form>
        </div>
    </div>
</section>
{% endblock %}
