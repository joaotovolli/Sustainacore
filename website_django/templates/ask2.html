{% extends "base.html" %}

{% block title %}Ask2 | SustainaCore AI Assistant{% endblock %}

{% block content %}
<section class="section section--with-header">
    <div class="shell">
        <div class="section__header section__header--split">
            <div>
                <p class="eyebrow">Ask2 AI Assistant</p>
                <h1>Ask questions about ESG and AI governance.</h1>
                <p class="muted">We route your questions to the SustainaCore backend on VM1 and return grounded answers. No external LLM calls from the browser.</p>
            </div>
            <div class="status" data-ask2-status>
                <span class="status__dot"></span>
                <span class="status__text">Ready to chat</span>
            </div>
        </div>
        <div class="chat">
            <div class="chat__panel" aria-live="polite" aria-label="Ask2 conversation" data-ask2-messages>
                <div class="bubble bubble--assistant">
                    Hi there! Ask me about ESG transparency, AI oversight, or the TECH100 index.
                </div>
            </div>
            <form class="chat__input" data-ask2-form>
                <label class="sr-only" for="ask2Input">Your question</label>
                <textarea id="ask2Input" name="message" rows="3" placeholder="Type your question here..." required data-ask2-input></textarea>
                <div class="chat__actions">
                    <button type="submit" class="btn btn--primary" data-ask2-send>Send</button>
                    <div class="muted chat__hint">Shift + Enter for a new line</div>
                </div>
            </form>
            <div class="chat__helper">
                <h4>Good prompts</h4>
                <ul>
                    <li>"Show me the top transparency scores in the TECH100."</li>
                    <li>"How does Aurora Tech report on accountability?"</li>
                    <li>"Summarize recent AI governance headlines."</li>
                </ul>
            </div>
        </div>
        <div class="alert alert--error" role="alert" hidden data-ask2-error>
            Something went wrong reaching Ask2. Please try again.
        </div>
    </div>
</section>
{% endblock %}

{% block extra_scripts %}
<script src="{% static 'js/ask2.js' %}"></script>
{% endblock %}
